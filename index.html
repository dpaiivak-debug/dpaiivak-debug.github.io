<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Spark Design — Landing</title>

  <!-- SEO / Open Graph -->
  <meta name="description" content="Identidades visuais e páginas focadas em conversão. Clareza, consistência e prova — sem firula.">
  <meta property="og:title" content="Spark Design — Design que acende marcas.">
  <meta property="og:description" content="Identidades visuais e páginas focadas em conversão. Clareza, consistência e prova — sem firula.">
  <meta property="og:image" content="https://dpaiivak-debug.github.io/og_1200x630.png">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <link rel="icon" href="favicon.svg" />

  <style>
    :root{
      --orange:#FF6A00; --amber:#FFC400; --bg:#0E0E10; --mist:#F2F2F2;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:#fff;font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}

    /* navegação suave + compensar topo sticky */
    html { scroll-behavior: smooth; }
    section[id] { scroll-margin-top: 90px; }

    .container{max-width:1120px;margin:0 auto;padding:0 20px}

    /* Topbar */
    .topbar{position:sticky;top:0;background:rgba(14,14,16,.7);backdrop-filter:blur(8px);border-bottom:1px solid rgba(255,255,255,.08);z-index:10}
    .topbar-inner{display:flex;align-items:center;justify-content:space-between;padding:14px 0}
    .brand{display:flex;gap:10px;align-items:center}
    .bolt{width:28px;height:28px;border-radius:8px;background:linear-gradient(135deg,var(--orange),var(--amber))}
    .nav{display:none;gap:18px}@media(min-width:840px){.nav{display:flex}}
    .btn{display:inline-block;border:1px solid var(--amber);border-radius:12px;padding:10px 14px;background:rgba(255,255,255,.06);color:#fff;text-decoration:none}
    .btn:hover{background:rgba(255,255,255,.12)}

    /* HERO sem pseudo-overlays (nada cobre os botões) */
    .hero{
      position:relative; padding:72px 0;
      background:
        radial-gradient(80% 60% at 70% 30%, rgba(255,196,0,.18) 0%, rgba(255,106,0,.08) 35%, rgba(14,14,16,0) 65%),
        linear-gradient(0deg, transparent 0%, transparent 70%, rgba(255,255,255,.08) 100%),
        repeating-linear-gradient(90deg, rgba(255,196,0,.12) 0 1px, transparent 1px 40px),
        repeating-linear-gradient(0deg, rgba(255,196,0,.12) 0 1px, transparent 1px 40px);
    }
    h1{font-size:clamp(34px,6vw,64px);line-height:1.05;margin:0}
    .accent{background:linear-gradient(90deg,var(--orange),var(--amber));-webkit-background-clip:text;background-clip:text;color:transparent}
    .lead{margin-top:16px;color:rgba(255,255,255,.8);max-width:680px}

    .cta-row{display:flex;flex-wrap:wrap;gap:12px;margin-top:22px}
    .cta{
      border:1px solid var(--amber); background:rgba(14,14,16,.6);
      border-radius:16px; padding:12px 16px; text-decoration:none; color:#fff;
      display:inline-flex; align-items:center; position:relative; z-index:2;
    }
    .cta.secondary{border-color:transparent;background:rgba(255,255,255,.10)}

    /* Seções */
    section{padding:56px 0;border-top:1px solid rgba(255,255,255,.08)}
    .muted{color:rgba(255,255,255,.65);font-size:14px}

    .cards{display:grid;grid-template-columns:1fr;gap:16px}@media(min-width:900px){.cards{grid-template-columns:1fr 1fr}}
    .card{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:18px;padding:20px}
    .card.pro{border-color:rgba(255,196,0,.4);background:linear-gradient(135deg,rgba(255,255,255,.08),transparent)}

    ul{padding-left:18px;margin:16px 0}
    .steps{display:grid;grid-template-columns:1fr;gap:14px}@media(min-width:900px){.steps{grid-template-columns:repeat(5,1fr)}}
    .step{border:1px solid rgba(255,255,255,.1);border-radius:14px;padding:14px}
    .step .n{color:var(--amber);font-size:12px}

    .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}@media(min-width:900px){.grid{grid-template-columns:repeat(3,1fr)}}
    .tile{aspect-ratio:4/5;border-radius:14px;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.12);overflow:hidden}

    /* Filtros do portfólio */
    .pf-btn{border:1px solid rgba(255,255,255,.15);background:rgba(255,255,255,.06);color:#fff;border-radius:999px;padding:8px 12px;font-size:12px;cursor:pointer}
    .pf-btn.active{border-color:var(--amber);background:rgba(255,196,0,.12)}

    /* CTA final (overlay visual não intercepta clique) */
    .final{position:relative}
    .final .panel{border:1px solid rgba(255,196,0,.4);background:rgba(255,255,255,.06);border-radius:22px;padding:26px;text-align:center;position:relative;z-index:2}
    .final .overlay{position:absolute;inset:0;background:linear-gradient(45deg, rgba(255,106,0,.15), rgba(255,196,0,.08)); pointer-events:none; z-index:0;}
    .final .inner{position:relative; z-index:2}

    .foot{padding:22px 0;border-top:1px solid rgba(255,255,255,.08);color:rgba(255,255,255,.6);font-size:12px}
  </style>
</head>
<body>
  <div class="topbar">
    <div class="container topbar-inner">
      <div class="brand"><div class="bolt"></div><strong>Spark Design</strong></div>
      <nav class="nav">
        <a href="#servicos" class="muted">Pacotes</a>
        <a href="#processo" class="muted">Processo</a>
        <a href="#portfolio" class="muted">Portfólio</a>
        <a href="#faq" class="muted">FAQ</a>
      </nav>
      <a class="btn" target="_blank" rel="noopener noreferrer" href="https://www.instagram.com/sparkdesiign/">DM: QUERO VISUAL</a>
    </div>
  </div>

  <!-- HERO -->
  <section class="hero">
    <div class="container">
      <h1>Design que <span class="accent">acende</span> marcas.</h1>
      <p class="lead">Identidades visuais e páginas focadas em conversão. Clareza, consistência e prova — sem firula.</p>

      <div class="cta-row">
        <!-- 1º botão: WhatsApp -->
        <a id="cta-whats-hero" class="cta"
           href="https://api.whatsapp.com/send/?phone=5566996707924&text=QUERO%20VISUAL&type=phone_number&app_absent=0"
           target="_blank" rel="noopener noreferrer">
          Falar no DM (QUERO VISUAL)
        </a>

        <!-- 2º botão: âncora interna -->
        <a id="cta-pacotes-hero" class="cta secondary" href="#servicos">Ver pacotes</a>
      </div>

      <p class="muted" style="margin-top:18px">Arquivos finais abertos • Suporte 7 dias</p>
    </div>
  </section>

  <!-- PACOTES -->
  <section id="servicos">
    <div class="container">
      <h2>Pacotes</h2>
      <p class="muted">Preço fechado, entregáveis claros e prazos definidos.</p>
      <div class="cards">
        <div class="card">
          <div class="muted">Essencial</div>
          <div style="font-size:28px;font-weight:700;margin-top:4px">a partir de R$ 1.297</div>
          <ul>
            <li>2 rotas de logo</li>
            <li>Paleta + tipografia</li>
            <li>Manual de 5 páginas</li>
            <li>2 revisões • Prazo 5–7 dias</li>
          </ul>
          <a class="btn" href="#cta">Reservar vaga</a>
        </div>
        <div class="card pro">
          <div style="color:var(--amber);font-size:14px">Pro</div>
          <div style="font-size:28px;font-weight:700;margin-top:4px">a partir de R$ 2.197</div>
          <ul>
            <li>3 rotas de logo</li>
            <li>Manual 10–12 páginas</li>
            <li>Kit Social (12 posts + 8 stories)</li>
            <li>3 revisões • Prazo 7–10 dias</li>
          </ul>
          <a class="btn" href="#cta">Reservar vaga</a>
        </div>
      </div>
    </div>
  </section>

  <!-- PROCESSO -->
  <section id="processo">
    <div class="container">
      <h2>Como funciona</h2>
      <div class="steps">
        <div class="step"><div class="n">01</div><strong>Briefing</strong><div class="muted">Metas, público, referências.</div></div>
        <div class="step"><div class="n">02</div><strong>Direção</strong><div class="muted">Moodboard e norte aprovada.</div></div>
        <div class="step"><div class="n">03</div><strong>Rotas</strong><div class="muted">2–3 propostas de logo.</div></div>
        <div class="step"><div class="n">04</div><strong>Refino</strong><div class="muted">Ajustes + manual.</div></div>
        <div class="step"><div class="n">05</div><strong>Entrega</strong><div class="muted">Arquivos + mockups + suporte.</div></div>
      </div>
    </div>
  </section>

  <script>
  // ===== PORTFÓLIO DINÂMICO (com diagnóstico) =====
  async function loadCases() {
    try {
      const res = await fetch('cases.json', { cache: 'no-store' });
      if (!res.ok) throw new Error('HTTP ' + res.status);
      const data = await res.json();
      return Array.isArray(data) ? data : [];
    } catch (e) {
      setPFStatus('Não consegui carregar o cases.json (' + (e.message || e) + ').');
      return [];
    }
  }

  function setPFStatus(msg) {
    const el = document.getElementById('pf-status');
    if (el) el.textContent = msg;
  }

  function cardHTML(c) {
    const hasCover = !!c.cover;
    const bg = hasCover
      ? `url('${c.cover}') center/cover no-repeat`
      : 'linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.14))';
    return `
      <a class="tile" href="#cta" aria-label="${c.title ?? 'Projeto'}"
         style="background:
           linear-gradient(180deg, rgba(0,0,0,.0) 40%, rgba(0,0,0,.6) 100%),
           ${bg};
           display:block; position:relative;">
        <div style="position:absolute;left:12px;right:12px;bottom:12px">
          <div style="font-size:12px;color:rgba(255,255,255,.75)">${c.category ?? ''} ${c.year ? '• '+c.year : ''}</div>
          <div style="font-weight:700">${c.title ?? 'Projeto'}</div>
          ${hasCover ? '' : '<div style="font-size:11px;color:rgba(255,255,255,.6)">capa ausente</div>'}
        </div>
      </a>`;
  }

  function renderGrid(items) {
    const grid = document.getElementById('portfolio-grid');
    grid.innerHTML = items.map(cardHTML).join('');
  }

  function setupFilters(all) {
    const btns = Array.from(document.querySelectorAll('.pf-btn'));
    function setActive(f) {
      btns.forEach(b => b.classList.toggle('active', b.dataset.filter === f));
      const filtered = (f === 'Tudo') ? all : all.filter(x => x.category === f);
      renderGrid(filtered);
    }
    btns.forEach(b => b.addEventListener('click', () => setActive(b.dataset.filter)));
    setActive('Tudo');
  }

  function validateImages(items) {
    // testa as capas e devolve os slugs que falharam
    return Promise.all(items.map(it => new Promise(resolve => {
      if (!it.cover) return resolve({ slug: it.slug, ok: false });
      const img = new Image();
      img.onload  = () => resolve({ slug: it.slug, ok: true });
      img.onerror = () => resolve({ slug: it.slug, ok: false });
      img.src = it.cover + (it.cover.includes('?') ? '&' : '?') + 'v=' + Date.now(); // bust cache
    }))).then(res => res.filter(r => !r.ok).map(r => r.slug));
  }

  (async function initPortfolio(){
    const data = await loadCases();
    if (!data.length) {
      setPFStatus('Nenhum projeto carregado. Confere se `cases.json` está na raiz e se os caminhos das capas batem.');
      renderGrid([]); return;
    }
    setPFStatus('Carregando capas…');

    const broken = await validateImages(data);
    const safe = data.map(c => broken.includes(c.slug) ? { ...c, cover: null } : c);

    const info = `Carregados ${data.length} projetos` + (broken.length ? ` • ${broken.length} capa(s) ausente(s): ${broken.join(', ')}` : '');
    setPFStatus(info);

    setupFilters(safe);
  })();
</script>


      <!-- filtros -->
      <div class="portfolio-filters" style="display:flex;gap:8px;flex-wrap:wrap;margin-top:12px">
        <button class="pf-btn" data-filter="Tudo">Tudo</button>
        <button class="pf-btn" data-filter="Identidade Visual">Identidade Visual</button>
        <button class="pf-btn" data-filter="Landing Page">Landing Page</button>
        <button class="pf-btn" data-filter="Social">Social</button>
        <button class="pf-btn" data-filter="Direção de Arte">Direção de Arte</button>
      </div>

      <!-- grid -->
      <div id="portfolio-grid" class="grid" style="margin-top:14px"></div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq">
    <div class="container">
      <h2>Perguntas frequentes</h2>
      <details><summary><span>Como é o pagamento?</span><span>⌄</span></summary><div class="muted">50% na entrada, 50% na entrega. Emite recibo/nota se necessário.</div></details>
      <details><summary><span>E se eu não gostar do caminho?</span><span>⌄</span></summary><div class="muted">Você tem revisões no pacote e apresentamos rotas alternativas dentro do escopo.</div></details>
      <details><summary><span>Que arquivos recebo?</span><span>⌄</span></summary><div class="muted">AI, PDF, PNG, SVG e mockups. Direitos de uso após pagamento total.</div></details>
      <details><summary><span>Prazo?</span><span>⌄</span></summary><div class="muted">Essencial 5–7 dias; Pro 7–10 dias após briefing assinado.</div></details>
    </div>
  </section>

  <!-- CTA final -->
  <section id="cta" class="final">
    <div class="overlay" aria-hidden="true"></div>
    <div class="container inner">
      <div class="panel">
        <h3 style="margin:0">Pronto para acender sua marca?</h3>
        <p class="muted">Mande <strong style="color:var(--amber)">QUERO VISUAL</strong> no direct ou clique abaixo.</p>
        <div class="cta-row" style="justify-content:center">
          <a class="cta" target="_blank" rel="noopener noreferrer" href="https://api.whatsapp.com/send/?phone=5566996707924&text=QUERO%20VISUAL&type=phone_number&app_absent=0">Abrir WhatsApp</a>
          <a class="cta secondary" target="_blank" rel="noopener noreferrer" href="https://www.instagram.com/sparkdesiign/">DM no Instagram</a>
        </div>
      </div>
    </div>
  </section>

  <footer class="foot">
    <div class="container" style="display:flex;gap:10px;justify-content:space-between;flex-wrap:wrap">
      <div>© <span id="y"></span> Spark Design — Todos os direitos reservados.</div>
      <div style="display:flex;gap:12px"><a class="muted" href="#">Termos</a><a class="muted" href="#">Privacidade</a></div>
    </div>
  </footer>

  <script>
    // ano no footer
    document.getElementById('y').textContent = new Date().getFullYear();

    // Garantir rolagem para #servicos mesmo se alguma extensão bloquear âncora
    (function () {
      const pacotes = document.getElementById('cta-pacotes-hero');
      if (pacotes) {
        pacotes.addEventListener('click', function (e) {
          const el = document.querySelector('#servicos');
          if (el && el.scrollIntoView) {
            e.preventDefault();
            el.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
        }, { passive: false });
      }
    })();

    // ===== PORTFÓLIO DINÂMICO =====
    async function loadCases() {
      try {
        const res = await fetch('cases.json', { cache: 'no-store' });
        if (!res.ok) throw new Error('HTTP ' + res.status);
        const data = await res.json();
        return Array.isArray(data) ? data : [];
      } catch (e) {
        console.warn('cases.json não encontrado; usando fallback.');
        return [];
      }
    }

    function cardHTML(c) {
      const bg = c.cover ? `url('${c.cover}') center/cover no-repeat` : 'linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.14))';
      return `
        <a class="tile" href="#cta" aria-label="${c.title ?? 'Projeto'}"
           style="background:
             linear-gradient(180deg, rgba(0,0,0,.0) 40%, rgba(0,0,0,.6) 100%),
             ${bg};
             display:block; position:relative;">
          <div style="position:absolute;left:12px;right:12px;bottom:12px">
            <div style="font-size:12px;color:rgba(255,255,255,.75)">${c.category ?? ''} ${c.year ? '• '+c.year : ''}</div>
            <div style="font-weight:700">${c.title ?? 'Projeto'}</div>
          </div>
        </a>`;
    }

    function renderGrid(items) {
      const grid = document.getElementById('portfolio-grid');
      grid.innerHTML = items.map(cardHTML).join('');
    }

    function setupFilters(all) {
      const btns = Array.from(document.querySelectorAll('.pf-btn'));
      function setActive(f) {
        btns.forEach(b => b.classList.toggle('active', b.dataset.filter === f));
        const filtered = (f === 'Tudo') ? all : all.filter(x => x.category === f);
        renderGrid(filtered);
      }
      btns.forEach(b => b.addEventListener('click', () => setActive(b.dataset.filter)));
      setActive('Tudo');
    }

    (async function initPortfolio(){
      const data = await loadCases();
      // se não houver cases.json, usa um fallback vazio (grid não quebra)
      setupFilters(data);
    })();

    // Testes mínimos no console
    console.assert(document.querySelector('#cta-whats-hero'), 'Whats CTA inexistente');
    console.assert(document.querySelector('#cta-pacotes-hero'), 'Pacotes CTA inexistente');
  </script>
</body>
</html>

